<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ðŸŒ³ Wald Zustandsbewertung</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.socket.io/4.0.1/socket.io.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-editable/1.2.0/Leaflet.Editable.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.js"></script>
</head>
<body>
    <div id="sidebar">
        <span class="close-btn" onclick="toggleSidebar()">&#x2716;</span>
        <h2>Settings</h2>
        <div class="sidebar-section">
            <h3>Tiling Settings</h3>
            <label for="buffer">Buffer in meters</label>
            <input type="number" id="buffer" value="{{ settings['tiling']['buffer'] }}"><br>
            <label for="tile_width">Tile Width in meters</label>
            <input type="number" id="tile_width" value="{{ settings['tiling']['tile_width'] }}"><br>
            <label for="tile_height">Tile Height in meters</label>
            <input type="number" id="tile_height" value="{{ settings['tiling']['tile_height'] }}">
        </div>
        <div class="sidebar-section">
            <h3>Tree Crown Settings</h3>
            <label for="confidence">Confidence</label>
            <input type="number" step="0.1" id="confidence" value="{{ settings['crown']['confidence'] }}">
        </div>
        <button id="save_settings">Save Settings</button>
    </div>
    <div id="content">
        <button id="settings-button" onclick="toggleSidebar()">&#9776;</button>
        <div id="title">
            <h1>ðŸŒ³ Zustandsbewertung von WÃ¤ldern mittels Satellitenbildern und Machine Learning ðŸŒ²</h1>
        </div>

        <div id="radio-group-container" class="radio-group-container">
            <div class="radio-inputs">
            <label class="radio">
                <input checked="" name="radio" type="radio" onclick="toggleMap('show')" />
                <span class="name">Interactive Map</span>
            </label>
            <label class="radio">
                <input name="radio" type="radio" onclick="toggleMap('hide')" />
                <span class="name">Upload Image</span>
            </label>
            </div>
        </div>

        <div id="map-container">
            <div id="map"></div>
            <div id="download-area-container">
                <!--Size selection here-->
            </div>
        </div>
        <div class="images">
            <div class="image-container">
                <img id="input_image" src="" alt="Input Image" style="display:none;"/>
                <div class="spinner" id="loading-spinner-input" style="display:none;"></div>
                <input type="file" accept="image/*" required="" id="file-input">
            </div>
            <div class="image-container">
                <img id="output_image" src="" alt="Output Image" style="display:none;"/>
                <div class="spinner" id="loading-spinner-output" style="display:none;"></div>
            </div>
        </div>
        <div id="analyze-container">
            <button class="learn-more" id="analyze" style="display:none;">
                <span class="circle" aria-hidden="true">
                    <span class="icon arrow"></span>
                </span>
                <span class="button-text">Analyze Image</span>
            </button>
            <button class="learn-more" id="download-image-interactive">
                <span class="circle" aria-hidden="true">
                    <span class="icon arrow"></span>
                </span>
                <span class="button-text">Analyze Area</span>
            </button>
        </div>
    </div>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>

</html>
